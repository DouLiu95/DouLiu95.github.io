<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dou Liu</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-11-19T16:23:00.304Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Let&#39;s migrate graph to Neo4j Aura</title>
    <link href="http://example.com/2021/11/04/How-to-Transfer-the-local-knowledge-map-to-the-Neo4j-Aura/"/>
    <id>http://example.com/2021/11/04/How-to-Transfer-the-local-knowledge-map-to-the-Neo4j-Aura/</id>
    <published>2021-11-04T17:45:41.000Z</published>
    <updated>2021-11-19T16:23:00.304Z</updated>
    
    <content type="html"><![CDATA[<p>During the user evaluation of conversational virtual museum guide, one of the user pointed that the knowledge graph visualization was not working. The visualization of knowledge graph is meant to show the connection between entities in knowledge graph directly, to help user understand their relationships. </p><h2 id="The-Problem-is-…"><a href="#The-Problem-is-…" class="headerlink" title="The Problem is …"></a>The Problem is …</h2><p>In my project, the visualization is implemented using <a class="link"   href="https://github.com/neo4j-contrib/neovis.js/" >Neovis.js<i class="fas fa-external-link-alt"></i></a> package. It allows the graph visualization in the browser with data from Neo4j. In the config, it requires to connect with a Neo4j database, and in my case, it was connected with my local knowledge graph database, something like this:</p><pre class="language-none"><code class="language-none">var config &#x3D; &#123;                    container_id: &quot;viz&quot;,                    server_url: &quot;bolt:&#x2F;&#x2F;localhost:6784&quot;,                    server_user: &quot;neo4j&quot;,                    server_password: &quot;password&quot;,                    ...                    &#125;</code></pre><p>Therefore, when the user opens this page to view the visualization, the plug-in will perform queries on the local graph database based on the configuration above. The problem is that there is no graph database on the user’s computer. So, here I need to configure a database that can be accessed remotely.</p><h2 id="Possible-way-to-solve-it"><a href="#Possible-way-to-solve-it" class="headerlink" title="Possible way to solve it"></a>Possible way to solve it</h2><p>As long as we have a remote database, or make my local database accessible remotely, this problem will be solved. There are two possible methods for it, as far as I concerned:</p><ol><li>Export my local knowledge base and upload it to a remote server</li><li>Use tools like <a class="link"   href="https://ngrok.com/" >Ngrok<i class="fas fa-external-link-alt"></i></a> to make localhost accessible by Internet</li></ol><p>Finally I chose the first method. Since the second way has an obvious shortcoming that my pc would not be a good server because it is not guaranteed to be accessible 7/24. </p><p>And to find a remote server, it could be cloud server from Google or Amazon. But the complex registration and configuration would be too much work for a small project, unless you already have your own server, and the price… I don’t know. </p><p>Fortunately, Neo4j has it own cloud service, which is called Neo4j <a class="link"   href="https://neo4j.com/cloud/aura/" >Aura<i class="fas fa-external-link-alt"></i></a>, and Aura has free plan for personal use!</p><h2 id="Hands-on"><a href="#Hands-on" class="headerlink" title="Hands on"></a>Hands on</h2><p>First, we need to export the knowledge graph data from local database. </p><h4 id="Export-the-data"><a href="#Export-the-data" class="headerlink" title="Export the data"></a>Export the data</h4><p>I tried <code>apoc.export.all.csv</code> first, however, it didn’t work really well. The exported csv data can not be read properly on Aura. </p><p>Another way is generating a dump file. This way is much easier and promising. Open the Terminal of your graph database on Neo4j Desktop. And the command to generate dump is:</p><pre class="language-none"><code class="language-none">$ bin\neo4j-admin dump --database&#x3D;neo4j --to&#x3D;&#123;target path &#125;.dump</code></pre><p>Result:</p><pre class="language-none"><code class="language-none">Done: 89 files, 63.31MiB processed.</code></pre><h4 id="Import-the-data-on-Aura"><a href="#Import-the-data-on-Aura" class="headerlink" title="Import the data on Aura"></a>Import the data on Aura</h4><p>Before importing, create a project on Aura, and click the title to see the import section:</p><div align="center"><img src="https://raw.githubusercontent.com/DouLiu95/hexo-site-comments/main/20211119/aura.2wl20tu2im0.png" alt="Aura upload" style="width: 100%;max-height: 100%" /> </div><p>Here, drop the Dump file to upload, wait for a while for the updating and then the knowledge graph is on the cloud server now.</p><p>The URL for this database is offered. With the URL, name and password, now the knowledge graph can be accessed anywhere!</p><h4 id="Issue-for-the-URL"><a href="#Issue-for-the-URL" class="headerlink" title="Issue for the URL"></a>Issue for the URL</h4><p>The default URL of the database on Aura starts with <code>neo4j+s://</code> , when I use this as the configuration in Neovis, it specifies to require SSL and a valid cert. As suggested in the document of Neovis</p><blockquote><h4 id="config-encrypted"><a href="#config-encrypted" class="headerlink" title="config.encrypted"></a><code>config.encrypted</code></h4><pre class="language-none"><code class="language-none">&quot;ENCRYPTION_OFF&quot;&#96; (default) or &#96;&quot;ENCRYPTION_ON&quot;</code></pre><p>This must be set to <code>&quot;ENCRYPTION_ON&quot;</code> when using a secure WebSocket connection, such as with Neo4j Aura.</p></blockquote><p> I added it in the config, and the page got error said:</p><pre class="language-none"><code class="language-none">Encryption&#x2F;trust can only be configured either through URL or config</code></pre><p>To solve it, as suggested in <a class="link"   href="https://github.com/grand-stack/grand-stack-starter/issues/129" >here<i class="fas fa-external-link-alt"></i></a>, set the URL to be <code>neo4j://</code> fixes it.  Like this:</p><pre class="language-html" data-language="html"><code class="language-html">var config = &#123;                    container_id: "viz",                    server_url: "neo4j://fc932d9f.databases.neo4j.io",                    server_user: "neo4j",                    server_password: "password",                    encrypted:'ENCRYPTION_ON',                    trust:'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES',...&#125;</code></pre><h4 id="Connect-Aura-with-Python"><a href="#Connect-Aura-with-Python" class="headerlink" title="Connect Aura with Python"></a>Connect Aura with Python</h4><p>So as I transfer the dataset to Aura, I should also update my python code, which is connected to the graph base for query using Py2neo.</p><p>The previous code to connect local database is:</p><pre class="language-none"><code class="language-none">g &#x3D; Graph(            scheme&#x3D;&quot;neo4j&quot;,            host&#x3D;&quot;localhost&quot;,            port&#x3D;7687,            auth&#x3D;(&quot;neo4j&quot;, &quot;password&quot;))</code></pre><p> For Aura, it changes to:</p><pre class="language-none"><code class="language-none">g &#x3D; Graph(&quot;neo4j+s:&#x2F;&#x2F;fc932d9f.databases.neo4j.io&quot;, auth&#x3D;(&quot;neo4j&quot;, &quot;password&quot;), routing&#x3D;True)</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;During the user evaluation of conversational virtual museum guide, one of the user pointed that the knowledge graph visualization was not</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Why blog?</title>
    <link href="http://example.com/2021/10/21/Create-First-Post/"/>
    <id>http://example.com/2021/10/21/Create-First-Post/</id>
    <published>2021-10-21T07:55:19.000Z</published>
    <updated>2021-11-19T16:23:41.423Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Why-Do-I-Need-the-Blog"><a href="#Why-Do-I-Need-the-Blog" class="headerlink" title="Why Do I Need the Blog"></a>Why Do I Need the Blog</h1><p>Having my personal blog is always on my to-do-list but with lower priority. As the time of graduating approaching, I realized it is the best time to do it now, as I should get prepared of my previous work and project collection for job application, so why not? Not to mention I could share my learning progress, technics, results and mistakes I made with much more people here. </p><h1 id="Hexo-and-Github-Pages"><a href="#Hexo-and-Github-Pages" class="headerlink" title="Hexo and Github Pages"></a>Hexo and Github Pages</h1><p>I do not want to spend too much time choosing the technology or service to use and building the site. So finally hexo and github pages seem to be a solution</p><h2 id="What-is-Hexo"><a href="#What-is-Hexo" class="headerlink" title="What is Hexo"></a>What is Hexo</h2><blockquote><p>Hexo is a fast, simple and powerful blog framework. You write posts in <a class="link"   href="http://daringfireball.net/projects/markdown/" >Markdown<i class="fas fa-external-link-alt"></i></a> (or other markup languages) and Hexo generates static files with a beautiful theme in seconds .</p></blockquote><h3 id="Build-Local-Static-Website-First"><a href="#Build-Local-Static-Website-First" class="headerlink" title="Build Local Static Website First"></a>Build Local Static Website First</h3><p>Here, we first need to build a local static website before we make it public and accessible to Internet. Type commands below in Command Line</p><pre class="language-none"><code class="language-none">npm install hexo-cli -ghexo init blogcd blognpm install hexo server</code></pre><p>With this, the server is host on our localhost with port 4000. Open <a class="link"   href="http://localhost:4000/" >http://localhost:4000/<i class="fas fa-external-link-alt"></i></a> to check it.</p><h3 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h3><p>To add a page or post, the layout could be page, post and title looks like <code>&quot;My new post&quot;</code>.</p><pre class="language-none"><code class="language-none">hexo new [layout] &lt;title&gt;</code></pre><h2 id="Deploy-Website-on-Github-Pages"><a href="#Deploy-Website-on-Github-Pages" class="headerlink" title="Deploy Website on Github Pages"></a>Deploy Website on Github Pages</h2><p>First, create a new repo with name <code>&lt;github-username&gt;.github.io</code>.</p><p>Then install the plugin `<strong>hexo-deployer-git</strong> by</p><pre class="language-none"><code class="language-none">npm install hexo-deployer-git --save</code></pre><p>and then change the configuration by opening <code>blog/_config.yml</code> and add following code:</p><pre class="language-none"><code class="language-none">deploy:    type: git    repo: https:&#x2F;&#x2F;github.com&#x2F;&lt;github-username&gt;&#x2F;&lt;github-username&gt;.github.io.git    branch: &lt;branch you want to deploy&gt;</code></pre><p>After finishing steps above, run following commands to generate static files and deploy them to the github pages:</p><pre class="language-none"><code class="language-none">hexo generatehexo deploy</code></pre><h1 id="Congratulation"><a href="#Congratulation" class="headerlink" title="Congratulation"></a>Congratulation</h1><p>Now open <code>https://&lt;github-username&gt;.github.io</code> and you should see your own blog!</p><h2 id="Extented"><a href="#Extented" class="headerlink" title="Extented"></a>Extented</h2><h4 id="How-to-embed-a-PDF-in-the-page"><a href="#How-to-embed-a-PDF-in-the-page" class="headerlink" title="How to embed a PDF in the page"></a>How to embed a PDF in the page</h4><p>Adobe offers a <a class="link"   href="https://www.adobe.io/apis/documentcloud/dcsdk/pdf-embed.html" >embed API<i class="fas fa-external-link-alt"></i></a> to make your PDF embedded in a HTML page.</p><p>First, log in and create a credential to use, specify the domain as the link of your blog, for me <code>douliu95.github.io</code>.</p><p>Then check a demo, there are four kinds of embed mode to choose:</p><ul><li>full window</li><li>sized container</li><li>in-line</li><li>lightbox</li></ul><p>I use in-line mode since I want to embed my cv, which is only one page long. Then, click generate code and get a sample code:</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"adobe-dc-view"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://documentcloud.adobe.com/view-sdk/main.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"adobe_dc_view_sdk.ready"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">var</span> adobeDCView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AdobeDC<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>clientId<span class="token operator">:</span> <span class="token string">"**********you id**********"</span><span class="token punctuation">,</span> divId<span class="token operator">:</span> <span class="token string">"adobe-dc-view"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>adobeDCView<span class="token punctuation">.</span><span class="token function">previewFile</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>content<span class="token operator">:</span><span class="token punctuation">&#123;</span>location<span class="token operator">:</span> <span class="token punctuation">&#123;</span>url<span class="token operator">:</span> <span class="token string">"https://documentcloud.adobe.com/view-sdk-demo/PDFs/Summary.pdf"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>metaData<span class="token operator">:</span><span class="token punctuation">&#123;</span>fileName<span class="token operator">:</span> <span class="token string">"Summary.pdf"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p>Then we copy this code to the markdown file of the page we want to embed with, and then we replace the <code>url</code> under <code>content</code> to my pdf link and change the <code>fileName</code>.</p><p>Now the pdf is embedded in the page.</p><h4 id="How-to-automatically-adjust-the-size-of-image-in-post"><a href="#How-to-automatically-adjust-the-size-of-image-in-post" class="headerlink" title="How to automatically adjust the size of image in post?"></a>How to automatically adjust the size of image in post?</h4><p>To make a image or picture look good both on PC browser or mobile device, it is necessary to make the size of image adjust automatically. </p><p>Using the template under when inserting a image:</p><pre class="language-none"><code class="language-none">&lt;div align&#x3D;&quot;center&quot;&gt;&lt;img src&#x3D;&quot;your image&#39;s url&quot; alt&#x3D;&quot;name&quot; style&#x3D;&quot;width: 100%;max-height: 100%&quot; &#x2F;&gt; &lt;&#x2F;div&gt;</code></pre><p>With this <code>style=&quot;width: 100%;max-height: 100%</code>, it should work now.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Why-Do-I-Need-the-Blog&quot;&gt;&lt;a href=&quot;#Why-Do-I-Need-the-Blog&quot; class=&quot;headerlink&quot; title=&quot;Why Do I Need the Blog&quot;&gt;&lt;/a&gt;Why Do I Need the Bl</summary>
      
    
    
    
    
    <category term="Hexo" scheme="http://example.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2021/10/20/hello-world/"/>
    <id>http://example.com/2021/10/20/hello-world/</id>
    <published>2021-10-20T12:43:30.778Z</published>
    <updated>2021-10-20T12:43:30.778Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a class="link"   href="https://hexo.io/" >Hexo<i class="fas fa-external-link-alt"></i></a>! This is your very first post. Check <a class="link"   href="https://hexo.io/docs/" >documentation<i class="fas fa-external-link-alt"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting<i class="fas fa-external-link-alt"></i></a> or you can ask me on <a class="link"   href="https://github.com/hexojs/hexo/issues" >GitHub<i class="fas fa-external-link-alt"></i></a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/writing.html" >Writing<i class="fas fa-external-link-alt"></i></a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/server.html" >Server<i class="fas fa-external-link-alt"></i></a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/generating.html" >Generating<i class="fas fa-external-link-alt"></i></a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a class=&quot;link&quot;   href=&quot;https://hexo.io/&quot; &gt;Hexo&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;! This is your very first post. Che</summary>
      
    
    
    
    
  </entry>
  
</feed>
